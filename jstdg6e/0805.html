<!DOCTYPE html>
<html>
<head>
<title>8.7 Function Properties, Methods, and Constructor</title>
<script src="0805.js"></script>
</head>
<body>
<div><strong>8.7.4 The bind() method</strong></div>
<pre>
The bind() method was added in ECMAScript 5, but it is easy to simulate in
ECMAScript 3. As its name implies, the primary purpose of bind() is to bind a function
to an object. When you invoke the bind() method on a function f and pass an object
o, the method returns a new function. Invoking the new function (as a function) invokes
the original function f as a method of o. Any arguments you pass to the new function
are passed to the original function. For example:
function f(y) { return this.x + y; } // This function needs to be bound
var o = { x : 1 };
// An object we'll bind to
var g = f.bind(o);
// Calling g(x) invokes o.f(x)
g(2)
// =&gt; 3
It is easy to accomplish this kind of binding with code like the following:
// Return a function that invokes f as a method of o, passing all its arguments.
function bind(f, o) {
if (f.bind) return f.bind(o);
// Use the bind method, if there is one
else return function() {
// Otherwise, bind it like this
return f.apply(o, arguments);
};
}
The ECMAScript 5 bind() method does more than just bind a function to an object. It
also performs partial application: any arguments you pass to bind() after the first are
bound along with the this value. Partial application is a common technique in func-
tional programming and is sometimes called currying. Here are some examples of the
bind() method used for partial application:
var sum = function(x,y) { return x + y };
// Return the sum of 2 args
// Create a new function like sum, but with the this value bound to null
// and the 1st argument bound to 1. This new function expects just one arg.
var succ = sum.bind(null, 1);
succ(2)
// =&gt; 3: x is bound to 1, and we pass 2 for the y argument
function f(y,z) { return this.x + y + z }; // Another function that adds
var g = f.bind({x:1}, 2);
// Bind this and y
g(3)
// =&gt; 6: this.x is bound to 1, y is bound to 2 and z is 3
We can bind the this value and perform partial application in ECMAScript 3. The
standard bind() method can be simulated with code like that shown in Example 8-5.
</pre>
</body>
</html>
