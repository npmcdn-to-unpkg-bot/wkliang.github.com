<!DOCTYPE html>
<html>
<head>
<title>Figure 21-10. Pattern and gradient fills</title>
</head>
<body>
this is a red square: <canvas id="square" width=10 height=10></canvas>
this is a blue circle: <canvas id="circle" width=10 height=10></canvas>
<div><canvas id="fig2110" width=600 height=600></canvas></div>
<script>
var canvas = document.getElementById("square");	// Get first canvas element
var context = canvas.getContext("2d");		// Get 2D drawing context
context.fillStyle = "#f00";			// Set fill color to red
context.fillRect(0,0,10,10);			// Fill a square

canvas = document.getElementById("circle");	// Second canvas element
context = canvas.getContext("2d");		// Get its context
context.beginPath();				// Begin a new "path"
context.arc(5, 5, 5, 0, 2*Math.PI, true);	// Add a circle to the path
context.fillStyle = "#00f";			// Set blue fill color
context.fill();					// Fill the path

// pg#647
canvas = document.getElementById("fig2110");
context = canvas.getContext("2d");

// Create an offscreen canvas
var offscreen = document.createElement("canvas");
offscreen.width = offscreen.height = 10;	// Set its size
offscreen.getContext("2d").strokeRect(0,0,6,6);	// Get its context and draw

// And use it as a pattern
var pattern = context.createPattern(offscreen,"repeat");

// A linear gradient, diagonally across the canvas (assuming no transforms)
var bgfade = context.createLinearGradient(0,0,canvas.width,canvas.height);
bgfade.addColorStop(0.0, "#88f");	// Start with light blue in upper left
bgfade.addColorStop(1.0, "#fff");	// Fade to white in lower right

// A gradient between two concentric circles. Transparent in the middle
// fading to translucent gray and then back to transparent.
var peekhole = context.createRadialGradient(300,300,100, 300,300,300);
peekhole.addColorStop(0.0, "transparent");		// Transparent
peekhole.addColorStop(0.7, "rgba(100,100,100,.9)");	// Translucent gray
peekhole.addColorStop(1.0, "rgba(0,0,0,0)");		// Transparent again

context.fillStyle = bgfade;
context.fillRect(0,0,600,600);

context.strokeStyle = pattern;
context.lineWidth = 100;
context.strokeRect(100,100,400,400);

context.fillStyle = peekhole;
context.fillRect(0,0,600,600);

</script>
</body>
</html>
